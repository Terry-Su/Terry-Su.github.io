{"pathnameRoot":"/cn/","authorUrl":"https://github.com/Terry-Su","locale":"zh_CN","logoTitle":"苏溪云","noteIsAutoTranslated":"本文为自动翻译。","copyright":{"left":"版权 © 2017-","center":"苏溪云","right":"保留所有权利"},"blogGithub":"https://github.com/Terry-Su/blogs-cn","id":"cn/state-management-should-be-simple-like-this","title":"状态管理本应如此简单","path":"Technology/FrontEnd/React","route":"/cn/state-management-should-be-simple-like-this","text":"\n\nconst layoutProps = {\n  \n};\nclass MDXContent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.layout = null\n  }\n  render() {\n    const { components, ...props } = this.props\n\n    return <MDXTag\n             name=\"wrapper\"\n             \n             components={components}><MDXTag name=\"p\" components={components}><MDXTag name=\"img\" components={components} parentName=\"p\" props={{\"src\":\"https://terry-su.github.io/assets/blogs/state-management-should-be-simple-like-this/ts-method.gif\",\"alt\":null}}></MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`2021年520前夕。近一年来主要都在做业务，不过对不断提升Coding质量与速度的追求和思考一直没停过。机缘巧合之下，有幸着重花时间完善了一套稳定、易用的状态管理方案。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`作者在工作历程中，由最初用redux，然后到用vuex，再到实验mobx、dva、react hooks甚至是自研工具，最后回归redux。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`在此期间，一直在探寻简单易用，并且有完整类型提示的方案。就是当我们输入一两个关键字，IDE自动弹出模型对应dispatch方法，再输入空字符串''，自动提示可能要调用的方法等。日常要写太多状态管理代码，完全没必要敲很多重复内容。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`那么重新写一个状态管理库？`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`redux已经很好用，只是代码略微繁琐，为何要重新写？基于redux封装是否可行？`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`那是否要集成其他路由、模块化加载和网络请求等模块，让用户通过这个工具做大多数事？`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`这其实是很多集成式框架做的事。但状态管理本身就是单独一个模块，没必要和其他模块耦合在一起。模块化对于项目未来局部升级和改造要远方便于集成式。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`既然讲到了类型推导提示，那么是否只有TypeScript项目才能完美支持？`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`当然很多类型都是借助TypeScript定义，但如今利用`}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\"href\":\"https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html\"}}>{`JSDoc注释类型写法`}</MDXTag>{`也能让JS项目支持类型提示和推导。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`是否能兼容已有项目？`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`只要遵循相应规则，正常情况下都能兼容。`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`卖了那么久关子，接下来放出项目地址：`}</MDXTag>\n<MDXTag name=\"blockquote\" components={components}>\n<MDXTag name=\"p\" components={components} parentName=\"blockquote\">{`由于政策原因，项目无法开源。但是方案概念可以大致讲下：\n1. 使用状态模型`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`model`}</MDXTag>{`管理状态\n2. 状态模型包含原始状态`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`state`}</MDXTag>{`和更新状态方法`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`methods`}</MDXTag>{`\n3. 所有状态和方法都支持类型推导提示`}</MDXTag>\n</MDXTag>\n           </MDXTag>\n  }\n}\nMDXContent.isMDXComponent = true\nrender( <MDXContent /> )\n  ","postTime":1621416000000,"comment":14,"isAutoTranslated":false,"availableOtherLocales":[],"importedCodes":"","siteTitle":"状态管理本应如此简单(苏溪云的博客)","siteMetaDescription":" 状态管理本应如此简单 \n\n2021年520前夕。近一年来主要都在做业务，不过对不断提升Coding质量与速度的追求和思考一直没停过。机缘巧合之下，有幸着重花时间完善了一套稳定、易用的状态管理方案。\n\n作者在工作历程中，由最... (苏溪云的博客)","categoryTitle":"分类","postTimeTitle":"发布时间","reprintingNote":"作者版权所有，转载请注明出处，禁止商业转载","endingWords":"article.endingWords","githubCommentBase":"https://api.github.com/repos/terry-su/blogs-cn/issues/","githubIssuePageBase":"https://github.com/Terry-Su/blogs-cn/issues/","remarkDisqusComment":"https://terrysu.disqus.com/embed.js","texts":{"siteTitle":"苏溪云的博客","siteMetaDescription":"苏溪云的原创前端技术博客 4年前端 分享主流前端技术 JavaScript ReactJS","categoryNewest":"最近发布","navArticles":"所有文章","navAbout":"关于作者"},"articleTexts":{"endingWordsExtra":"**感谢你的阅读。欢迎通过微信（扫描下方二维码）或[Github](https://github.com/Terry-Su/blogs-cn)订阅我的博客。**\n\n ![微信公众号:苏溪云的博客](https://user-images.githubusercontent.com/23733477/77869172-2459f400-7270-11ea-8a84-d5d63a426c19.png)","qrcodeImageUrl":"","reprintingNote":"作者版权所有，转载请注明出处，禁止商业转载","category":"分类","postTime":"发布时间","githubIssuePageBase":"https://github.com/Terry-Su/blogs-cn/issues/","githubCommentBase":"https://api.github.com/repos/terry-su/blogs-cn/issues/","commentOnGithub":"添加评论 (by Github Issues)"},"markedEndingWordsExtra":"<p><strong>感谢你的阅读。欢迎通过微信（扫描下方二维码）或<a href=\"https://github.com/Terry-Su/blogs-cn\">Github</a>订阅我的博客。</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/23733477/77869172-2459f400-7270-11ea-8a84-d5d63a426c19.png\" alt=\"微信公众号:苏溪云的博客\" /></p>"}
