(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{216:function(e,t,n){var a={"./af":77,"./af.js":77,"./ar":78,"./ar-dz":79,"./ar-dz.js":79,"./ar-kw":80,"./ar-kw.js":80,"./ar-ly":81,"./ar-ly.js":81,"./ar-ma":82,"./ar-ma.js":82,"./ar-ps":83,"./ar-ps.js":83,"./ar-sa":84,"./ar-sa.js":84,"./ar-tn":85,"./ar-tn.js":85,"./ar.js":78,"./az":86,"./az.js":86,"./be":87,"./be.js":87,"./bg":88,"./bg.js":88,"./bm":89,"./bm.js":89,"./bn":90,"./bn-bd":91,"./bn-bd.js":91,"./bn.js":90,"./bo":92,"./bo.js":92,"./br":93,"./br.js":93,"./bs":94,"./bs.js":94,"./ca":95,"./ca.js":95,"./cs":96,"./cs.js":96,"./cv":97,"./cv.js":97,"./cy":98,"./cy.js":98,"./da":99,"./da.js":99,"./de":100,"./de-at":101,"./de-at.js":101,"./de-ch":102,"./de-ch.js":102,"./de.js":100,"./dv":103,"./dv.js":103,"./el":104,"./el.js":104,"./en-au":105,"./en-au.js":105,"./en-ca":106,"./en-ca.js":106,"./en-gb":107,"./en-gb.js":107,"./en-ie":108,"./en-ie.js":108,"./en-il":109,"./en-il.js":109,"./en-in":110,"./en-in.js":110,"./en-nz":111,"./en-nz.js":111,"./en-sg":112,"./en-sg.js":112,"./eo":113,"./eo.js":113,"./es":114,"./es-do":115,"./es-do.js":115,"./es-mx":116,"./es-mx.js":116,"./es-us":117,"./es-us.js":117,"./es.js":114,"./et":118,"./et.js":118,"./eu":119,"./eu.js":119,"./fa":120,"./fa.js":120,"./fi":121,"./fi.js":121,"./fil":122,"./fil.js":122,"./fo":123,"./fo.js":123,"./fr":124,"./fr-ca":125,"./fr-ca.js":125,"./fr-ch":126,"./fr-ch.js":126,"./fr.js":124,"./fy":127,"./fy.js":127,"./ga":128,"./ga.js":128,"./gd":129,"./gd.js":129,"./gl":130,"./gl.js":130,"./gom-deva":131,"./gom-deva.js":131,"./gom-latn":132,"./gom-latn.js":132,"./gu":133,"./gu.js":133,"./he":134,"./he.js":134,"./hi":135,"./hi.js":135,"./hr":136,"./hr.js":136,"./hu":137,"./hu.js":137,"./hy-am":138,"./hy-am.js":138,"./id":139,"./id.js":139,"./is":140,"./is.js":140,"./it":141,"./it-ch":142,"./it-ch.js":142,"./it.js":141,"./ja":143,"./ja.js":143,"./jv":144,"./jv.js":144,"./ka":145,"./ka.js":145,"./kk":146,"./kk.js":146,"./km":147,"./km.js":147,"./kn":148,"./kn.js":148,"./ko":149,"./ko.js":149,"./ku":150,"./ku-kmr":151,"./ku-kmr.js":151,"./ku.js":150,"./ky":152,"./ky.js":152,"./lb":153,"./lb.js":153,"./lo":154,"./lo.js":154,"./lt":155,"./lt.js":155,"./lv":156,"./lv.js":156,"./me":157,"./me.js":157,"./mi":158,"./mi.js":158,"./mk":159,"./mk.js":159,"./ml":160,"./ml.js":160,"./mn":161,"./mn.js":161,"./mr":162,"./mr.js":162,"./ms":163,"./ms-my":164,"./ms-my.js":164,"./ms.js":163,"./mt":165,"./mt.js":165,"./my":166,"./my.js":166,"./nb":167,"./nb.js":167,"./ne":168,"./ne.js":168,"./nl":169,"./nl-be":170,"./nl-be.js":170,"./nl.js":169,"./nn":171,"./nn.js":171,"./oc-lnc":172,"./oc-lnc.js":172,"./pa-in":173,"./pa-in.js":173,"./pl":174,"./pl.js":174,"./pt":175,"./pt-br":176,"./pt-br.js":176,"./pt.js":175,"./ro":177,"./ro.js":177,"./ru":178,"./ru.js":178,"./sd":179,"./sd.js":179,"./se":180,"./se.js":180,"./si":181,"./si.js":181,"./sk":182,"./sk.js":182,"./sl":183,"./sl.js":183,"./sq":184,"./sq.js":184,"./sr":185,"./sr-cyrl":186,"./sr-cyrl.js":186,"./sr.js":185,"./ss":187,"./ss.js":187,"./sv":188,"./sv.js":188,"./sw":189,"./sw.js":189,"./ta":190,"./ta.js":190,"./te":191,"./te.js":191,"./tet":192,"./tet.js":192,"./tg":193,"./tg.js":193,"./th":194,"./th.js":194,"./tk":195,"./tk.js":195,"./tl-ph":196,"./tl-ph.js":196,"./tlh":197,"./tlh.js":197,"./tr":198,"./tr.js":198,"./tzl":199,"./tzl.js":199,"./tzm":200,"./tzm-latn":201,"./tzm-latn.js":201,"./tzm.js":200,"./ug-cn":202,"./ug-cn.js":202,"./uk":203,"./uk.js":203,"./ur":204,"./ur.js":204,"./uz":205,"./uz-latn":206,"./uz-latn.js":206,"./uz.js":205,"./vi":207,"./vi.js":207,"./x-pseudo":208,"./x-pseudo.js":208,"./yo":209,"./yo.js":209,"./zh-cn":210,"./zh-cn.js":210,"./zh-hk":211,"./zh-hk.js":211,"./zh-mo":212,"./zh-mo.js":212,"./zh-tw":213,"./zh-tw.js":213};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=216},217:function(e,t,n){"use strict";(function(e){var a,o,r=n(4),i=n.n(r),s=n(74),c=n.n(s),l=n(72),u=n.n(l),d=n(1),f=n.n(d),p=n(19),m=n(26),b=n(71),h=n.n(b),v=n(0),y=n.n(v),j=n(73),g=n(3),x=n(13);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=Object(g.f)(w((function(e){var t=Object(v.useState)(""),n=c()(t,2),a=n[0],o=n[1],r=Object(x.umsGlobal)(["currentDirId"]).currentDirId;return y.a.createElement(E,null,y.a.createElement("input",{type:"text",value:a,onChange:function(e){return o(e.target.value)},style:{maxWidth:50}}),y.a.createElement("button",{onClick:i()(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null!=r?+r:0,e.next=3,m.b.dirs.add({name:a,parent_dir:t,children_dirs:[],children_items:[],create_time:h()().format(p.b),update_time:h()().format(p.b)});case 3:o("");case 4:case"end":return e.stop()}}),e)})))},"âž•ðŸ“"))}),'useState{[dirName, setDirName]("")}'));t.a=L;var k,H,E=j.a.span(a||(a=u()(["\n\n"])));(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(E,"StyledRoot","/media/xiaoxuyu/data/items/review/src/components/AddDirButton.tsx"),k.register(L,"default","/media/xiaoxuyu/data/items/review/src/components/AddDirButton.tsx")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)}).call(this,n(8)(e))},229:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p}));var a,o=n(26),r=n(75);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},s=function(e,t){return new URLSearchParams(e.search).get(t)},c=function(e){return s(e,"dir")};i(c,"useRouterSearchKey{}",(function(){return[s]}));var l=function(e){return Object(r.useLiveQuery)((function(){return o.b.dirs.get(e)}),[e])};i(l,"useLiveQuery{}",(function(){return[r.useLiveQuery]}));var u=function(e){return Object(r.useLiveQuery)((function(){return o.b.dirs.filter((function(t){return 0==e&&0==t.parent_dir||t.parent_dir==e})).toArray()}),[e])||[]};i(u,"useLiveQuery{}",(function(){return[r.useLiveQuery]}));var d,f,p=function(e){return Object(r.useLiveQuery)((function(){return o.b.items.filter((function(t){return 0==e&&0==t.parent_dir||t.parent_dir==e})).toArray()}),[e])||[]};i(p,"useLiveQuery{}",(function(){return[r.useLiveQuery]})),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(s,"useRouterSearchKey","/media/xiaoxuyu/data/items/review/src/hooks/index.ts"),d.register(c,"useRouterSearchCurrentdirId","/media/xiaoxuyu/data/items/review/src/hooks/index.ts"),d.register(l,"useCurrentDir","/media/xiaoxuyu/data/items/review/src/hooks/index.ts"),d.register(u,"useCurrentPageDirs","/media/xiaoxuyu/data/items/review/src/hooks/index.ts"),d.register(p,"useCurrentPageItems","/media/xiaoxuyu/data/items/review/src/hooks/index.ts")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}).call(this,n(8)(e))},230:function(e,t,n){"use strict";(function(e){var a,o,r=n(4),i=n.n(r),s=n(72),c=n.n(s),l=n(1),u=n.n(l),d=n(26),f=n(0),p=n.n(f),m=n(73),b=n(3),h=n(13);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var v=Object(b.f)((function(e){var t=Object(h.umsGlobal)(["currentDirId"]).currentDirId;return p.a.createElement(g,null,p.a.createElement("span",{onClick:i()(u.a.mark((function n(){var a,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.f)(t);case 2:a=n.sent,Object(h.umGlobal)({currentDirId:a}),(o=new URLSearchParams(e.location.search)).set("dir","".concat(a)),e.history.push({search:o.toString()});case 7:case"end":return n.stop()}}),n)}))),style:{cursor:"pointer"}},"â†©ï¸"))}));t.a=v;var y,j,g=m.a.span(a||(a=c()(["\n\n"])));(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(g,"StyledRoot","/media/xiaoxuyu/data/items/review/src/components/GoParentDirButton.tsx"),y.register(v,"default","/media/xiaoxuyu/data/items/review/src/components/GoParentDirButton.tsx")),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&j(e)}).call(this,n(8)(e))},231:function(e,t,n){"use strict";(function(e){var a,o,r=n(4),i=n.n(r),s=n(74),c=n.n(s),l=n(72),u=n.n(l),d=n(1),f=n.n(d),p=n(19),m=n(26),b=n(71),h=n.n(b),v=n(0),y=n.n(v),j=n(73),g=n(3),x=n(13),w=n(76);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k=Object(g.f)(L((function(e){var t=Object(x.umsGlobal)(["currentDirId"]).currentDirId,n=Object(v.useState)(""),a=c()(n,2),o=a[0],r=a[1],s=Object(v.useState)(""),l=c()(s,2),u=l[0],d=l[1];return y.a.createElement(G,null,y.a.createElement("span",null,y.a.createElement("input",{type:"text",value:o,onChange:function(e){return r(e.target.value)},style:{maxWidth:50}}),y.a.createElement("div",{contentEditable:!0,placeholder:"formatted content",onBlur:function(e){d(e.currentTarget.innerHTML)},onPaste:w.a,dangerouslySetInnerHTML:{__html:u},style:{display:"inline-block",width:50,height:20,marginBottom:-6,overflow:"auto",border:"1px solid grey"}}),y.a.createElement("button",{onClick:i()(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b.items.add({parent_dir:t,name:o,content:u,status:m.a.Init,create_time:h()().format(p.b),update_time:h()().format(p.b)});case 2:r(""),d("");case 4:case"end":return e.stop()}}),e)})))},"âž•ðŸ“„")))}),'useState{[title, setTitle]("")}\nuseState{[content, setContent]("")}'));t.a=k;var H,E,G=j.a.span(a||(a=u()(["\n"])));(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(H.register(G,"StyledRoot","/media/xiaoxuyu/data/items/review/src/components/AddItemButton.tsx"),H.register(k,"default","/media/xiaoxuyu/data/items/review/src/components/AddItemButton.tsx")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)}).call(this,n(8)(e))},232:function(e,t,n){"use strict";(function(e){var a;n.d(t,"a",(function(){return i})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,r,i="0.0.1";(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(i,"Version","/media/xiaoxuyu/data/items/review/src/version.ts"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)}).call(this,n(8)(e))},233:function(e,t,n){"use strict";(function(e){var a;n.d(t,"a",(function(){return i})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var o,r;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e){return fetch(e).then((function(e){return e.arrayBuffer()})).catch((function(e){console.error("Error downloading file buffer:",e)}))}function s(e,t){fetch(e).then((function(e){return e.blob()})).then((function(e){var n=URL.createObjectURL(e),a=document.createElement("a");a.href=n,null!=t&&""!==t&&(a.download=t),a.click(),URL.revokeObjectURL(n)})).catch((function(e){console.error("Error downloading file:",e)}))}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(i,"fetchFileBuffer","/media/xiaoxuyu/data/items/review/src/utils/download.ts"),o.register(s,"downloadFile","/media/xiaoxuyu/data/items/review/src/utils/download.ts")),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)}).call(this,n(8)(e))},234:function(e,t,n){"use strict";(function(e){var a;n.d(t,"a",(function(){return i})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var o,r;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e,t,n,a){var o=new Blob([e],{type:"application/octet-stream"}),r=new FormData;r.append("file",o,t);var i=new XMLHttpRequest;i.open("POST",n,!0),i.onload=function(){200===i.status?(console.log("File uploaded successfully:",i.responseText),a&&a()):console.error("Error uploading file:",i.statusText)},i.send(r)}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(i,"uploadFile","/media/xiaoxuyu/data/items/review/src/utils/upload.ts"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)}).call(this,n(8)(e))},235:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a,o=n(236),r=n.n(o);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,s,c=function(e){r()({text:e,duration:1e3,close:!0,gravity:"top",position:"center",stopOnFocus:!0,onClick:function(){}}).showToast()};(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(c,"toast","/media/xiaoxuyu/data/items/review/src/utils/toast.ts"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,n(8)(e))},236:function(e,t,n){!function(t,n){e.exports?e.exports=n():t.Toastify=n()}(this,(function(e){var t=function(e){return new t.lib.init(e)};function n(e,t){return t.offset[e]?isNaN(t.offset[e])?t.offset[e]:t.offset[e]+"px":"0px"}function a(e,t){return!(!e||"string"!=typeof t||!(e.className&&e.className.trim().split(/\s+/gi).indexOf(t)>-1))}return t.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},t.lib=t.prototype={toastify:"1.12.0",constructor:t,init:function(e){return e||(e={}),this.options={},this.toastElement=null,this.options.text=e.text||t.defaults.text,this.options.node=e.node||t.defaults.node,this.options.duration=0===e.duration?0:e.duration||t.defaults.duration,this.options.selector=e.selector||t.defaults.selector,this.options.callback=e.callback||t.defaults.callback,this.options.destination=e.destination||t.defaults.destination,this.options.newWindow=e.newWindow||t.defaults.newWindow,this.options.close=e.close||t.defaults.close,this.options.gravity="bottom"===e.gravity?"toastify-bottom":t.defaults.gravity,this.options.positionLeft=e.positionLeft||t.defaults.positionLeft,this.options.position=e.position||t.defaults.position,this.options.backgroundColor=e.backgroundColor||t.defaults.backgroundColor,this.options.avatar=e.avatar||t.defaults.avatar,this.options.className=e.className||t.defaults.className,this.options.stopOnFocus=void 0===e.stopOnFocus?t.defaults.stopOnFocus:e.stopOnFocus,this.options.onClick=e.onClick||t.defaults.onClick,this.options.offset=e.offset||t.defaults.offset,this.options.escapeMarkup=void 0!==e.escapeMarkup?e.escapeMarkup:t.defaults.escapeMarkup,this.options.ariaLive=e.ariaLive||t.defaults.ariaLive,this.options.style=e.style||t.defaults.style,e.backgroundColor&&(this.options.style.background=e.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var e=document.createElement("div");for(var t in e.className="toastify on "+this.options.className,this.options.position?e.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(e.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):e.className+=" toastify-right",e.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)e.style[t]=this.options.style[t];if(this.options.ariaLive&&e.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)e.appendChild(this.options.node);else if(this.options.escapeMarkup?e.innerText=this.options.text:e.innerHTML=this.options.text,""!==this.options.avatar){var a=document.createElement("img");a.src=this.options.avatar,a.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?e.appendChild(a):e.insertAdjacentElement("afterbegin",a)}if(!0===this.options.close){var o=document.createElement("button");o.type="button",o.setAttribute("aria-label","Close"),o.className="toast-close",o.innerHTML="&#10006;",o.addEventListener("click",function(e){e.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var r=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&r>360?e.insertAdjacentElement("afterbegin",o):e.appendChild(o)}if(this.options.stopOnFocus&&this.options.duration>0){var i=this;e.addEventListener("mouseover",(function(t){window.clearTimeout(e.timeOutValue)})),e.addEventListener("mouseleave",(function(){e.timeOutValue=window.setTimeout((function(){i.removeElement(e)}),i.options.duration)}))}if(void 0!==this.options.destination&&e.addEventListener("click",function(e){e.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&e.addEventListener("click",function(e){e.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var s=n("x",this.options),c=n("y",this.options),l="left"==this.options.position?s:"-"+s,u="toastify-top"==this.options.gravity?c:"-"+c;e.style.transform="translate("+l+","+u+")"}return e},showToast:function(){var e;if(this.toastElement=this.buildToast(),!(e="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=t.defaults.oldestFirst?e.firstChild:e.lastChild;return e.insertBefore(this.toastElement,n),t.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(e){e.className=e.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),e.parentNode&&e.parentNode.removeChild(e),this.options.callback.call(e),t.reposition()}.bind(this),400)}},t.reposition=function(){for(var e,t={top:15,bottom:15},n={top:15,bottom:15},o={top:15,bottom:15},r=document.getElementsByClassName("toastify"),i=0;i<r.length;i++){e=!0===a(r[i],"toastify-top")?"toastify-top":"toastify-bottom";var s=r[i].offsetHeight;e=e.substr(9,e.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(r[i].style[e]=o[e]+"px",o[e]+=s+15):!0===a(r[i],"toastify-left")?(r[i].style[e]=t[e]+"px",t[e]+=s+15):(r[i].style[e]=n[e]+"px",n[e]+=s+15)}return this},t.lib.init.prototype=t.lib,t}))},68:function(e,t,n){"use strict";n.r(t),function(e){var a,o,r=n(4),i=n.n(r),s=n(72),c=n.n(s),l=n(1),u=n.n(l),d=n(26),f=n(0),p=n.n(f),m=n(75),b=n(71),h=n.n(b),v=n(19),y=n(29),j=n(3),g=n(217),x=n(229),w=n(13),L=n(230),k=n(231),H=n(73),E=n(232),G=n(233),O=n(234),C=n(235);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},M=Object(j.f)(N((function(e){Object(m.useLiveQuery)((function(){return d.b.items.toArray()}));var t=Object(w.umsGlobal)(["currentDirId"]).currentDirId,n=Object(x.a)(t),a=Object(x.b)(t),o=Object(x.c)(t),r=Object(w.umsGlobal)(["enableOperate"]).enableOperate;return p.a.createElement(D,null,p.a.createElement("div",{className:"toolbar"},0!=t&&p.a.createElement("span",null,p.a.createElement(L.a,null),"Â ",p.a.createElement("span",null,"ðŸ“",p.a.createElement("span",{contentEditable:!0,onBlur:function(e){d.b.dirs.update(t,{name:e.currentTarget.textContent})},suppressContentEditableWarning:!0},null!=n?n.name:"")),"Â "),p.a.createElement("button",{onClick:function(){Object(w.umGlobal)((function(e){return{enableOperate:!e.enableOperate}}))}},"âš™ï¸"),r&&p.a.createElement(p.a.Fragment,null,"Â "),r&&p.a.createElement(g.a,null),r&&p.a.createElement(p.a.Fragment,null,"Â ",p.a.createElement(k.a,null)),r&&p.a.createElement(p.a.Fragment,null,"Â ",p.a.createElement("button",{onClick:i()(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.j)();case 2:return e.next=4,Object(d.g)();case 4:if(t=e.sent,null==(n=prompt("æ›´æ–°æœåŠ¡å™¨åŒæ­¥åœ°å€",t))||n===t){e.next=9;break}return e.next=9,Object(d.k)(n);case 9:case"end":return e.stop()}}),e)})))},"ðŸŒ")),r&&p.a.createElement(p.a.Fragment,null,"Â ",p.a.createElement("button",{onClick:i()(u.a.mark((function e(){var t,n,a,o,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("ç¡®è®¤ä»ŽæœåŠ¡å™¨ä¸‹è½½æ•°æ®å¹¶æ›¿æ¢å½“å‰æ•°æ®ï¼Ÿ")){e.next=17;break}return e.next=4,Object(d.g)();case 4:return t=e.sent,n=(new Date).getTime(),a="".concat(t,"/downlad-review?timestamp=").concat(n),e.next=9,Object(G.a)(a);case 9:return o=e.sent,e.next=12,Object(y.d)(o);case 12:return r=e.sent,i=JSON.parse(r),e.next=16,Object(d.h)(i);case 16:setTimeout((function(){Object(C.a)("ä¸‹è½½æˆåŠŸ")}),200);case 17:case"end":return e.stop()}}),e)})))},"ðŸ›¸")),r&&p.a.createElement(p.a.Fragment,null,"Â ",p.a.createElement("button",{onClick:i()(u.a.mark((function e(){var t,n,a,o,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("ç¡®è®¤ä¸Šä¼ å½“å‰æ•°æ®åˆ°æœåŠ¡å™¨ï¼Ÿ")){e.next=14;break}return e.next=4,Object(d.d)();case 4:return t=e.sent,n=JSON.stringify(t),e.next=8,Object(y.b)(n);case 8:return a=e.sent,e.next=11,Object(d.g)();case 11:o=e.sent,r="".concat(o,"/upload-review"),Object(O.a)(a,"test",r,(function(){Object(C.a)("ä¸Šä¼ æˆåŠŸ")}));case 14:case"end":return e.stop()}}),e)})))},"ðŸš€")),r&&p.a.createElement("span",null,"Â ",p.a.createElement("button",{onClick:i()(u.a.mark((function e(){var t,n,a,o,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)();case 2:return t=e.sent,n=JSON.stringify(t),console.log("jsonStr",n),e.next=7,Object(y.b)(n);case 7:a=e.sent,o=new Blob([new Uint8Array(a)],{type:"application/octet-stream"}),(r=document.createElement("a")).href=URL.createObjectURL(o),r.download="review-".concat(E.a,"-").concat(h()().format(v.b)),r.click(),URL.revokeObjectURL(r.href);case 14:case"end":return e.stop()}}),e)})))},"â¬‡ï¸"),"Â ",p.a.createElement("button",null,p.a.createElement("label",null,"â¬†ï¸",p.a.createElement("input",{type:"file",onChange:function(){var e=i()(u.a.mark((function e(t){var n,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files[0])){e.next=7;break}return e.next=4,Object(y.c)(n);case 4:a=e.sent,o=JSON.parse(a),Object(d.h)(o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),style:{display:"none"}}))),"Â ",p.a.createElement("button",{onClick:i()(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("ç¡®è®¤æ¸…ç©º?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,d.b.systems.clear();case 5:return t.next=7,d.b.items.clear();case 7:return t.next=9,d.b.dirs.clear();case 9:(n=new URLSearchParams(e.location.search)).set("dir","0"),e.history.push({search:n.toString()});case 12:case"end":return t.stop()}}),t)})))},"ðŸ—‘ï¸"),"Â ")),p.a.createElement("div",{className:"dir-section"},a.map((function(t){return p.a.createElement("div",{key:t.id,style:{display:"flex",justifyContent:"flex-start",marginBottom:7.5}},p.a.createElement("span",{style:{display:"inline-block",minWidth:200,cursor:"pointer"},onClick:function(){var n=new URLSearchParams(e.location.search);n.set("dir","".concat(t.id)),e.history.push({search:n.toString()})}},"ðŸ“ ",t.name),r&&p.a.createElement("span",{onClick:function(){confirm("ç¡®è®¤åˆ é™¤ç›®å½•ï¼š".concat(t.name,"?"))&&Object(d.c)(t.id)},style:{cursor:"pointer"}},"âŒ"))}))),p.a.createElement("div",{className:"item-section"},(o||[]).map((function(t){return p.a.createElement("div",{key:t.id,style:{marginBottom:7.5}},p.a.createElement("span",{onClick:function(){var e=d.a.Init;switch(t.status){case d.a.Init:case d.a.AlreadyRead:e=d.a.Bookmark;break;case d.a.Bookmark:e=d.a.Mastered;break;case d.a.Mastered:e=d.a.Init}d.b.items.update(t.id,{status:e})},style:{border:"none",background:"none",cursor:"pointer"}},[d.a.Init,d.a.AlreadyRead].includes(t.status)?"ðŸ“–":t.status==d.a.Bookmark?"â­ï¸":t.status==d.a.Mastered?"ðŸ“„":"ðŸ“–","Â "),p.a.createElement("a",{onClick:function(){var n=new URLSearchParams(e.location.search);n.set("page","".concat(v.a)),n.set("item","".concat(t.id)),e.history.push({search:n.toString()})},style:{display:"inline",minWidth:200,textDecoration:"none",color:Object(d.e)(t),cursor:"pointer"}},t.name),r&&p.a.createElement(p.a.Fragment,null,"Â ",p.a.createElement("span",{onClick:function(){confirm("ç¡®è®¤åˆ é™¤é¡¹ç›®".concat(t.name,"?"))&&d.b.items.delete(t.id)},style:{cursor:"pointer"}},"âŒ")))}))))}),"useLiveQuery{items}\nuseCurrentDir{currentDir}\nuseCurrentPageDirs{currentDirs}\nuseCurrentPageItems{currentItems}",(function(){return[m.useLiveQuery,x.a,x.b,x.c]})));t.default=M;var I,T,D=H.a.div(a||(a=c()(["\n  box-sizing: border-box;\n  padding: 10px 20px;\n\n  width: 100%;\n  height: 100%;\n\n  >.toolbar {\n    line-height: 30px;\n    margin-bottom: 10px;\n  }\n\n  >.dir-section {\n    box-sizing: border-box;\n    /* padding: 10px 20px 0 20px; */\n    >div {\n      min-height: 30px;\n      line-height: 30px;\n      >div{\n        cursor: pointer;\n      }\n    }\n  }\n  >.item-section {\n    >div {\n      min-height: 30px;\n      line-height: 30px;\n    }\n    box-sizing: border-box;\n    /* padding: 0px 20px 10px 20px; */\n  }\n"])));(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(I.register(D,"StyledRoot","/media/xiaoxuyu/data/items/review/src/activities/Home.tsx"),I.register(M,"default","/media/xiaoxuyu/data/items/review/src/activities/Home.tsx")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)}.call(this,n(8)(e))},76:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a,o=n(4),r=n.n(o),i=n(1),s=n.n(i);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var c,l;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function u(e){return d.apply(this,arguments)}function d(){return(d=r()(s.a.mark((function e(t){var n,a,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("handlePasteHtmlIncludeBase64Image"),t.preventDefault(),n=t.clipboardData||window.clipboardData,!(a=n.getData("text/html")||n.getData("text/plain"))){e.next=11;break}return e.next=7,f(a);case 7:o=e.sent,document.execCommand("insertHTML",!1,o),e.next=13;break;case 11:r=n.getData("text/plain"),document.execCommand("insertText",!1,r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=r()(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=/data:image\/(jpeg|png|gif|webp);base64,[a-zA-Z0-9+/=]+/g,a=t.match(n)){e.next=4;break}return e.abrupt("return",t);case 4:return e.next=6,Promise.all(a.map(function(){var e=r()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,1e-4);case 2:return n=e.sent,e.abrupt("return",{original:t,compressed:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return e.sent.forEach((function(e){var n=e.original,a=e.compressed;t=t.replace(n,a)})),e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return new Promise((function(n){var a=new Image;a.src=e,a.onload=function(){var e=document.createElement("canvas"),o=e.getContext("2d"),r=a.width,i=a.height;e.width=r,e.height=i,o.drawImage(a,0,0,r,i);var s=e.toDataURL("image/webp",t);n(s)},a.onerror=function(){console.error("Base64 å›¾ç‰‡åŠ è½½å¤±è´¥"),n(e)}}))}(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(u,"handlePasteHtmlIncludeBase64Image","/media/xiaoxuyu/data/items/review/src/utils/processImage.ts"),c.register(f,"processBase64ImagesInHtml","/media/xiaoxuyu/data/items/review/src/utils/processImage.ts"),c.register(m,"compressBase64Image","/media/xiaoxuyu/data/items/review/src/utils/processImage.ts")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,n(8)(e))}}]);